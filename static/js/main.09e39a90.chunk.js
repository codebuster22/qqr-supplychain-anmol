(this["webpackJsonpqr-supplychain-anmol"]=this["webpackJsonpqr-supplychain-anmol"]||[]).push([[0],{19:function(e,t,a){e.exports=a(41)},24:function(e,t,a){},26:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(15),l=a.n(s),c=(a(24),a(2)),o=a.n(c),i=a(4),m=a(1),u=a(5),p=a(6),h=a(8),d=a(7),b=(a(26),a(16)),g=a.n(b),f=function(e){var t=e.handleInputChange,a=e.handleOnSubmit,n=e.state,s=e.routeChange;return r.a.createElement("div",{className:"app-form"},r.a.createElement("main",{className:"pa4 black-80"},r.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},r.a.createElement("legend",{className:"f4 fw6 ph0 mh0"},"Form"),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"EWB"},"EWB"),r.a.createElement("input",{className:"pa2 input-reset ba bg-transparent w-100",type:"number",name:"EWB",id:"EWB",onChange:t,value:n.EWB})),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"consigner"},"Consigner"),r.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent w-100",type:"text",name:"consigner",id:"consigner",onChange:t,value:n.consigner})),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"consignee"},"Consignee"),r.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent w-100",type:"text",name:"consignee",id:"consignee",onChange:t,value:n.consignee})),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"articles"},"Articles"),r.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent w-100",type:"text",name:"articles",id:"articles",onChange:t,value:n.articles})),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"date"},"Date"),r.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent w-100",type:"date",name:"date",id:"date",onChange:t,value:n.date})),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"from"},"From"),r.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent  w-100",type:"text",name:"from",id:"from",onChange:t,value:n.from})),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"to"},"To"),r.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent w-100",type:"text",name:"to",id:"to",onChange:t,value:n.to}))),r.a.createElement("div",{className:""},r.a.createElement("button",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",value:"Submit",onClick:a},"Submit")),r.a.createElement("div",{className:"lh-copy mt3"},r.a.createElement("p",{href:"#0",className:"f6 link dim black db",onClick:function(){return s("scan")}},"Scan QR Code"))))},E=a(17),v=a.n(E),N=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleScan=function(e){e&&(n.setState({result:e,scan:!1}),console.log(e),n.fetchOrderDetails(e))},n.fetchOrderDetails=function(){var e=Object(i.a)(o.a.mark((function e(t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://dry-atoll-26666.herokuapp.com/profile/"+t,{mode:"cors"});case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,n.setState({data:r}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),alert("Invalid Code"),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),n.handleError=function(e){console.log(e)},n.toggleScan=function(e){n.setState({scan:!n.state.scan})},n.state={scan:!1,result:"No Result",data:{}},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:""},this.state.scan?r.a.createElement("div",{className:"app-scan-true"},r.a.createElement(v.a,{delay:300,onError:this.handleError,onScan:this.handleScan,style:{width:"100%"}}),r.a.createElement("button",{className:"pointer",onClick:this.toggleScan},"Stop Scanning")):"No Result"===this.state.result?r.a.createElement("div",{className:"app-scan-false"},r.a.createElement("button",{className:"pointer",onClick:this.toggleScan},"Start Scanner")):r.a.createElement("div",{className:"app-scan-false"},r.a.createElement("p",null,"EWB:- ",this.state.data.EWB),r.a.createElement("p",null,"Consigner:- ",this.state.data.consigner),r.a.createElement("p",null,"Consignee:- ",this.state.data.consignee),r.a.createElement("p",null,"Articles:- ",this.state.data.articles),r.a.createElement("p",null,"Date:- ",this.state.data.date),r.a.createElement("p",null,"From:- ",this.state.data.from),r.a.createElement("p",null,"To:- ",this.state.data.to),r.a.createElement("button",{className:"pointer",onClick:this.toggleScan},"Start Scanner")),r.a.createElement("p",{className:"f6 link dim black db",onClick:function(){return e.props.routeChange("create")}},"Generate QR Code"))}}]),a}(n.Component),S=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Object(m.a)({},r,a))},n.handleOnSubmit=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Start Submit"),console.log("State data at handleOnSubmit before post",n.state),t=JSON.stringify(n.state),console.log("json stringify at handleOnSubmit after post",t),e.next=6,fetch("https://dry-atoll-26666.herokuapp.com/fillDetails",{method:"POST",headers:{"Content-Type":"application/json"},body:t});case 6:return a=e.sent,console.log("State data at handleOnSubmit after post",n.state),e.next=10,a.json();case 10:e.sent.flag&&alert("Data Saved"),n.setState({consigner:"",consignee:"",articles:"",date:"",from:"",to:""});case 13:case"end":return e.stop()}}),e)}))),n.handleRouteChange=function(e){n.setState({route:e})},n.state={consigner:"",consignee:"",articles:"",date:"",from:"",to:"",EWB:0,route:"create"},n}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App "},"create"===this.state.route?r.a.createElement("div",{className:"app-create"},r.a.createElement("h1",null,"Generate QR Code"),r.a.createElement(f,{handleInputChange:this.handleInputChange,handleOnSubmit:this.handleOnSubmit,state:this.state,routeChange:this.handleRouteChange}),r.a.createElement(g.a,{value:this.state.EWB.toString(),renderAs:"canvas"})):r.a.createElement("div",{className:"app-scan"},r.a.createElement("h1",null,"Scan QR Code"),r.a.createElement(N,{routeChange:this.handleRouteChange})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(39);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.09e39a90.chunk.js.map